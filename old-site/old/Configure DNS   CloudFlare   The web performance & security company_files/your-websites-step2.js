(function(a){window.cloudFlare=window.cloudFlare||{faq:function(b,c){a.cf.loadModalDialog({type:"faq",topics:c},{title:"Domain status"})}};a(function(){var b=a("#target-domain").val(),c=a("#Continue");a("#DnsAlerts").dnsAlerts({z:b});a("#DnsEditor").dnsTable({proxySix:1==a("#AaaaProxyOk").val(),load:{z:a("#target-domain").val()},onTableReady:function(){c.removeClass("disabled submitting").addClass("green")},onChange:function(){a("#DnsAlerts").dnsAlerts("onChange")}});c.click(function(){if(!c.hasClass("disabled"))if(a(".dns-row.dirty:not(.deleted)").length){var b=
a(".dns-row.dirty:not(.deleted)").map(function(){var b=a(this);return b.hasClass("new-rec")?b.dnsRec("addRec"):b.dnsRec("saveRec")});a.cf.log(b);a.when.apply(this,b).then(function(){a.cf.log("redirect");location.href="/your-websites-step3"},function(){a.cf.notify("Please resolve errors before you proceed",a.cf.noteType.error)})}else location.href="/your-websites-step3";return!1});a(".link-upload").click(function(){a.cf.loadModalDialog({type:"zoneupload",z:b,target:"/your-websites-step2"},{title:"Upload your DNS zone file",
dialogClass:"cf-dialog-one-button",buttons:{"Upload your zone file":function(){a("#ModalDialog").dialog("close")},Cancel:function(){a("#ModalDialog").dialog("close")}}})})})})(jQuery);
